(function(e){function t(t){for(var r,i,s=t[0],l=t[1],d=t[2],u=0,h=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(h.length)h.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0104":function(e,t,n){},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section",attrs:{id:"root"}},[n("header",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("b-button",{on:{click:e.toggleMode}},[e._v(" "+e._s(e.isAddRiddleMode?"I would like to answer riddle":"I would like to add new riddle")+" ")])],1),n("div",{staticClass:"level-right"},[n("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.isSignedIn,expression:"!isSignedIn"}],on:{click:e.login}},[e._v("Sign In")]),n("b-button",{directives:[{name:"show",rawName:"v-show",value:e.isSignedIn,expression:"isSignedIn"}],on:{click:e.logout}},[e._v("Sign Out")])],1)]),n("main",[e.isSignedIn?e._e():n("div",[n("h1",[e._v("Welcome to NEAR RIDDLE GAME!")]),n("p",[e._v(" To start playing the game, you need to sign in. The button below will sign you in using NEAR Wallet. ")]),n("br"),n("p",[e._v(' By default, it connects to a test network ("testnet") wallet. This works just like the main network ("mainnet") wallet, but the NEAR Tokens on testnet aren\'t convertible to other currencies - so you can play without worrying about money! ')]),n("br")]),e.isSignedIn?n("div",[e.isAddRiddleMode?n("AddRiddle"):e._e(),e.isAddRiddleMode?e._e():n("AnswerRiddle")],1):e._e()]),n("footer")])},a=[],i=(n("99af"),n("db49")),s=n.n(i),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Add new Riddle")]),n("br"),n("b-field",{attrs:{label:"question"}},[n("b-input",{attrs:{placeholder:"enter the question"},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}})],1),n("b-field",{attrs:{label:"answer"}},[n("b-input",{attrs:{placeholder:"enter the answer"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}})],1),n("b-field",{attrs:{label:"kind"}},[n("b-select",{attrs:{expanded:"",placeholder:"select the kind"},model:{value:e.kind,callback:function(t){e.kind=t},expression:"kind"}},e._l(e.kindList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)],1),n("b-field",{attrs:{label:"Grade"}},[n("b-select",{attrs:{expanded:"",placeholder:"select the difficulty"},model:{value:e.grade,callback:function(t){e.grade=t},expression:"grade"}},e._l(e.gradeList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)],1),n("b-field",{attrs:{label:"bonus"}},[n("b-select",{attrs:{expanded:"",placeholder:"select the bonus"},model:{value:e.bonus,callback:function(t){e.bonus=t},expression:"bonus"}},e._l(e.bonusList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)],1),n("br"),n("b-field",[n("b-button",{on:{click:e.add_riddle}},[e._v("Submit")])],1)],1)},d=[],c=n("1da1"),u=(n("96cf"),n("6c27")),h=n.n(u),w=n("399f"),p=n.n(w),b={name:"AddRiddle",data:function(){return{question:null,answer:null,kind:"History",kindList:["History","Culture","Science","Math","Other"],grade:"Easy",gradeList:["Easy","Medium","Hard"],bonus:1,bonusList:[.5,1,2,4,8,16],loader:null}},methods:{add_riddle:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.question&&this.answer){e.next=3;break}return window.alert("You haven't filled the form"),e.abrupt("return");case 3:return e.prev=3,this.loader=this.$loading.show({container:null,width:124,height:124,loader:"bars",canCancel:!1,color:"#CDE201",backgroundColor:"#000000",opacity:.3,zIndex:1002}),console.log(JSON.stringify({input:{riddle:{question:this.question,sha256_answer:h()(this.answer),kind:this.kind},grade:this.grade}})),t=new p.a("10000000000000000000000"),n=t.muln(100*+this.bonus),e.next=10,window.contract.add_riddle({input:{riddle:{question:this.question,sha256_answer:h()(this.answer),kind:this.kind},grade:this.grade}},new p.a("30000000000000"),n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),window.alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info.");case 15:return e.prev=15,this.loader&&(this.loader.hide(),this.loader=null),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));function t(){return e.apply(this,arguments)}return t}()}},f=b,g=n("2877"),v=Object(g["a"])(f,l,d,!1,null,null,null),m=v.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Answer Riddles")]),n("br"),n("b-field",{attrs:{label:"Pick one riddle"}}),n("b-table",{attrs:{data:e.questionList,bordered:e.isBordered,striped:e.isStriped,narrowed:e.isNarrowed,hoverable:e.isHoverable,loading:e.isLoading,focusable:e.isFocusable,paginated:e.isPaginated,"per-page":e.perPage},on:{select:e.onSelect}},[n("b-table-column",{attrs:{label:"Creator",width:"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.creator)+" ")]}}])}),n("b-table-column",{attrs:{label:"Question",width:"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.riddle_info.question)+" ")]}}])}),n("b-table-column",{attrs:{label:"Kind",width:"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.riddle_info.kind)+" ")]}}])}),n("b-table-column",{attrs:{label:"Bonus",width:"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.bonus)+" ")]}}])}),n("b-table-column",{attrs:{label:"Difficulty",width:"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.grade)+" ")]}}])}),n("div",{staticClass:"has-text-centered",attrs:{slot:"empty"},slot:"empty"},[e._v(" No Riddle ")])],1),n("b-field",{attrs:{label:"Answer"}},[n("b-input",{attrs:{placeholder:"enter the answer"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}})],1),n("br"),n("b-field",[n("b-button",{on:{click:e.answer_riddle}},[e._v("Submit")])],1)],1)},k=[],y={name:"AnswerRiddle",data:function(){return{isEmpty:!1,isBordered:!1,isStriped:!1,isNarrowed:!1,isHoverable:!1,isFocusable:!1,isPaginated:!1,perPage:8,isLoading:!1,selectedQuestionId:null,questionList:[],answer:null,loader:null}},methods:{answer_riddle:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectedQuestionId){e.next=3;break}return window.alert("You haven't selected any question"),e.abrupt("return");case 3:if(this.answer){e.next=6;break}return window.alert("You haven't filled the form'"),e.abrupt("return");case 6:return e.prev=6,this.loader=this.$loading.show({container:null,width:124,height:124,loader:"bars",canCancel:!1,color:"#CDE201",backgroundColor:"#000000",opacity:.3,zIndex:1002}),e.next=10,window.contract.answer_riddle({answer:{id:this.selectedQuestionId,sha256_answer:h()(this.answer)}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),window.alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info.");case 15:return e.prev=15,this.loader&&(this.loader.hide(),this.loader=null),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[6,12,15,18]])})));function t(){return e.apply(this,arguments)}return t}(),onSelect:function(e){e&&e.id&&(this.selectedQuestionId=e.id)}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loader=this.$loading.show({container:null,width:124,height:124,loader:"bars",canCancel:!1,color:"#CDE201",backgroundColor:"#000000",opacity:.3,zIndex:1002}),e.next=4,window.contract.get_riddles();case 4:this.questionList=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),window.alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info.");case 10:return e.prev=10,this.loader&&(this.loader.hide(),this.loader=null),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})));function t(){return e.apply(this,arguments)}return t}()},x=y,S=Object(g["a"])(x,_,k,!1,null,null,null),R=S.exports,I=(n("5319"),n("ac1f"),n("d9eb")),C=s()("development");function O(){return A.apply(this,arguments)}function A(){return A=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(I["connect"])(Object.assign({deps:{keyStore:new I["keyStores"].BrowserLocalStorageKeyStore}},C));case 2:return t=e.sent,window.walletConnection=new I["WalletConnection"](t),window.accountId=window.walletConnection.getAccountId(),e.next=7,new I["Contract"](window.walletConnection.account(),C.contractName,{viewMethods:["get_riddles","get_riddles_of_kind"],changeMethods:["add_riddle","answer_riddle"]});case 7:window.contract=e.sent;case 8:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function N(){window.walletConnection.signOut(),window.location.replace(window.location.origin+window.location.pathname)}function E(){window.walletConnection.requestSignIn(C.contractName)}console.log(C);var j=s()("development");console.log("networkId:".concat(j.networkId," CONTRACT_NAME:").concat(j.contractName)),window.networkId=j.networkId;var M={created:function(){document.title="near-riddles"},name:"App",components:{AddRiddle:m,AnswerRiddle:R},data:function(){return{mode:"addRiddle"}},methods:{toggleMode:function(){"addRiddle"==this.mode?this.mode="answerRiddle":this.mode="addRiddle"},logout:N,login:E},computed:{isAddRiddleMode:function(){return"addRiddle"==this.mode},isSignedIn:function(){return window.walletConnection.isSignedIn()}}},U=M,P=Object(g["a"])(U,o,a,!1,null,null,null),q=P.exports,L=n("289d"),T=n("9062"),D=n.n(T);n("5abe"),n("e40d"),n("0104");r["a"].use(L["a"]),r["a"].use(D.a),r["a"].config.productionTip=!1,window.nearInitPromise=O().then((function(){new r["a"]({render:function(e){return e(q)}}).$mount("#app")}))},db49:function(e,t){var n=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_CONTRACT_NAME||"dev-1615557089251-8971892";function r(e){switch(e){case"production":case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:n,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org",explorerUrl:"https://explorer.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:n,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:n,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}e.exports=r}});
//# sourceMappingURL=app.71deed67.js.map